<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YINKCID</title>
<style>
body {
  font-family:'Segoe UI',Tahoma,Verdana,sans-serif; margin:0; padding:0; background:#0d0d0d; color:#fff; text-align:center;
}
header {
  background:linear-gradient(90deg,#4B0082,#8A2BE2); color:#fff; padding:16px; font-size:26px; font-weight:bold;
  text-align:center; box-shadow:0 2px 8px #111;
}
.message {
  background:#222; padding:10px; border-left:4px solid #DA70D6; font-weight:bold; color:#DA70D6;
  margin:10px auto; width:fit-content;
}
.container { padding:12px; }
#auth-box, #upload-form { background:#111; width:340px; margin:10px auto; padding:12px; border-radius:8px; box-shadow:0 0 6px #444; text-align:left; }
#auth-box input, #upload-form input { width:100%; padding:8px; margin:6px 0; box-sizing:border-box; background:#222; color:#fff; border:1px solid #4B0082; border-radius:4px; }
#auth-actions { display:flex; gap:8px; justify-content:center; margin-top:6px; }
button { padding:8px 12px; cursor:pointer; border-radius:6px; border:1px solid #4B0082; background:#4B0082; color:#fff; font-weight:bold; }
button.primary { background:#4B0082; color:#fff; border-color:#4B0082; }
.tabs { display:flex; justify-content:center; gap:8px; margin:10px 0; flex-wrap:wrap; }
.tab { padding:8px 16px; background:#222; border-radius:6px; border:1px solid #4B0082; cursor:pointer; color:#fff; }
.tab.active { background:#4B0082; color:#fff; font-weight:bold; border-color:#4B0082; }
.content { display:none; padding:10px; }
.content.active { display:block; }
.media-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; margin-top:12px; }
.card { background:#111; padding:10px; border-radius:10px; box-shadow:0 2px 8px #222; text-align:left; cursor:pointer; transition:0.3s; }
.card:hover { box-shadow:0 4px 12px #444; transform:translateY(-2px); }
.card img, .card video { width:100%; border-radius:10px; display:block; }
.info { font-size:13px; margin-top:6px; color:#ccc; }
.interactive { color:#DA70D6; cursor:pointer; margin-right:8px; }
.comment-section { margin-top:6px; display:none; }
.comment-input { width:calc(100% - 80px); padding:6px; box-sizing:border-box; background:#222; color:#fff; border:1px solid #4B0082; border-radius:4px; }
.comment-send { padding:6px 8px; margin-left:6px; background:#4B0082; border:1px solid #4B0082; color:#fff; border-radius:4px; cursor:pointer; }
.small { font-size:12px; color:#aaa; }
.group-header { font-weight:bold; margin-bottom:6px; color:#DA70D6; text-align:left; }
@media (max-width:800px){ .media-grid { grid-template-columns:repeat(2,1fr); } }
@media (max-width:420px){ .media-grid { grid-template-columns:repeat(1,1fr); } }
</style>
</head>
<body>
<header>Chào mừng đến với YINKCID!</header>
<div class="message">Các bạn nhớ đăng ký kênh để ủng hộ kênh của mình nhé!</div>

<div class="container">

  <!-- Đăng nhập / Tạo tài khoản -->
  <div id="auth-box">
    <h3>Đăng nhập / Tạo tài khoản</h3>
    <label>Tên</label>
    <input id="input-name" type="text" placeholder="Tên (bắt buộc)">
    <label>Email</label>
    <input id="input-email" type="email" placeholder="Email (bắt buộc)">
    <label>Mật khẩu</label>
    <input id="input-password" type="password" placeholder="6 ký tự, chữ/số">
    <div style="display:flex; align-items:center; gap:8px; margin-top:6px;">
      <input id="toggle-pass" type="checkbox"><label for="toggle-pass" class="small">Hiện mật khẩu</label>
      <span class="small" style="margin-left:auto; color:#aaa">Phân biệt hoa/thường</span>
    </div>
    <div id="auth-actions">
      <button id="btn-login" class="primary" onclick="handleLogin()">Đăng nhập</button>
      <button id="btn-register" onclick="handleRegister()">Tạo tài khoản</button>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs" id="tabs-container">
    <div class="tab active" data-tab="hot" onclick="switchTab(event,'hot')">Hot Trend</div>
    <div class="tab" data-tab="video" onclick="switchTab(event,'video')">Video</div>
    <div class="tab" data-tab="image" onclick="switchTab(event,'image')">Ảnh</div>
  </div>

  <!-- Nội dung từng tab -->
  <div id="hot" class="content active"><div id="hot-grid" class="media-grid"></div></div>
  <div id="video" class="content"><div id="video-grid" class="media-grid"></div></div>
  <div id="image" class="content"><div id="image-grid" class="media-grid"></div></div>

  <!-- Owner Tab -->
  <div id="owner-tab" class="content" style="display:none;">
    <h3>Upload / Thư viện</h3>
    <input id="file-input" type="file" accept="image/*,video/*" multiple style="border:1px solid #4B0082; background:#222; color:#fff;">
    <button class="primary" style="margin-top:6px;" onclick="uploadMedia()">Upload</button>
    <div id="owner-grid" class="media-grid" style="margin-top:10px;"></div>
  </div>

</div>

<script>
// --- Cấu hình & lưu trữ ---
let currentUser = null;
let mediaGroups = JSON.parse(localStorage.getItem('mediaGroups')||'[]'); // Lưu trữ media trên localStorage
let ownerLibrary = JSON.parse(localStorage.getItem('ownerLibrary')||'[]'); 
const OWNER_INFO = {name:'YINKCID', email:'yinkcid@gmail.com', password:'213206'};
const USERS_KEY = 'yinkcid_users';
const OWNER_KEY = 'yinkcid_owner';

function saveMedia(){
  localStorage.setItem('mediaGroups', JSON.stringify(mediaGroups));
  localStorage.setItem('ownerLibrary', JSON.stringify(ownerLibrary));
}

function getUsers(){ return JSON.parse(localStorage.getItem(USERS_KEY)||'[]'); }
function saveUsers(users){ localStorage.setItem(USERS_KEY, JSON.stringify(users)); }
function getOwnerEmail(){ return localStorage.getItem(OWNER_KEY)||null; }
function setOwnerEmail(email){ localStorage.setItem(OWNER_KEY,email); }
function isValidPassword(pw){ return /^[a-zA-Z0-9]{6}$/.test(pw); }

// Show/Hide pass
document.getElementById('toggle-pass').addEventListener('change', ()=>{
  const inp=document.getElementById('input-password');
  inp.type = inp.type==='password'?'text':'password';
});

// --- Đăng ký ---
function handleRegister(){
  const name=document.getElementById('
